"use strict";!function(a){function b(b){var c=a(b),d=a(":focus"),e=0;if(1===d.length){var f=c.index(d);f+1<c.length&&(e=f+1)}c.eq(e).focus()}function c(b){var c=a(b),d=a(":focus"),e=c.length-1;if(1===d.length){var f=c.index(d);f>0&&(e=f-1)}c.eq(e).focus()}function d(b){function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var d,e,f,g=b.nodeName.toLowerCase(),h=!isNaN(a.attr(b,"tabindex"));return"area"===g?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(f=a("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||h:h)&&c(b)}a.focusNext=function(){b(":focusable")},a.focusPrev=function(){c(":focusable")},a.tabNext=function(){b(":tabbable")},a.tabPrev=function(){c(":tabbable")},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}})}(jQuery),function(a){a.offCanvasMenu=function(b,c){var d={menu:a(b),position:"left",menuExpandedClass:"show-left-menu",wrapper:a(b).parent(),container:a(".container"),menuToggle:[],expandedWidth:a(b).outerWidth(),offCanvasOverlay:"off-canvas-overlay"},e=this;e.settings={},e.init=function(){function b(a){t.bind("keydown",function(b){9===b.keyCode&&a.is(":visible")&&(b.preventDefault(),b.shiftKey?a.find(":tabbable").last().focus():a.find(":tabbable").first().focus())}),a.find(":tabbable").first().bind("keydown",function(b){9===b.keyCode&&a.is(":visible")&&b.shiftKey&&(b.preventDefault(),t.focus())}),a.find(":tabbable").last().bind("keydown",function(b){9===b.keyCode&&a.is(":visible")&&(b.shiftKey||(b.preventDefault(),t.focus()))})}function f(a){a.show(),r.addClass(q),t.attr({"aria-expanded":"true"}),r.addClass("opened"),v.css({"overflow-x":"hidden",position:"relative"}),r.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.addClass("opened"),r.addClass("opened"),v.css({"overflow-x":"hidden",position:"relative"})}),b(a)}function g(a){r.removeClass(q),t.attr({"aria-expanded":"false"}),r.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.removeAttr("style").removeClass("opened"),r.removeClass("opened"),v.removeAttr("style")})}function h(a){var b=r.hasClass(q)?"opened":"closed";"closed"===b&&f(a),"opened"===b&&g(a)}function i(){return"left"==p?o.offset().left+w:o.offset().left}function j(a){return"left"==p&&a>=-25&&w>=a||"right"==p&&a>=-w&&25>=a}function k(a){r.hasClass(q)&&(C=!0,A=a.originalEvent.touches[0].pageX,D={startingX:i(),pageX:A,pageY:a.originalEvent.touches[0].pageY},z=r.position().left,E=void 0,B=y.css("opacity"),s.addClass("no-transition"),y.addClass("no-transition"),a.stopPropagation())}function l(b){if(z=b.originalEvent.touches[0].pageX-D.pageX,"undefined"==typeof E&&(E=!!(E||Math.abs(z)<Math.abs(b.originalEvent.touches[0].pageY-D.pageY))),!E){b.preventDefault();var c="left"==p?D.startingX+z:z-(a(window).width()-D.startingX),d=B/w*Math.abs(c);if(!j(c))return;s.css({"-webkit-transform":"translate("+c+"px, 0)","-moz-transform":"translate("+c+"px, 0)","-ms-transform":"translate("+c+"px, 0)","-o-transform":"translate("+c+"px, 0)",transform:"translate("+c+"px, 0)"}),y.css("opacity",d),b.stopPropagation()}}function m(b){if(C&&r.hasClass(q)){var c="left"==p?D.startingX+z:z-(a(window).width()-D.startingX),d=Math.abs(c);E||(s.removeAttr("style").removeClass("no-transition"),y.removeAttr("style").removeClass("no-transition"),"left"==p&&(.66*w>=d||0>=c)||"right"==p&&(.66*w>=d||c>=0)?g(o):f(o)),C=null,D={},b.stopPropagation()}}e.settings=a.extend({},d,c);var n=(a(n),n),o=e.settings.menu,p=e.settings.position,q=e.settings.menuExpandedClass,r=e.settings.wrapper,s=e.settings.container,t=e.settings.menuToggle,u=e.settings.ariaControls,v=r.parent(),w=o.outerWidth(),x=a("."+e.settings.offCanvasOverlay);"right"!==p||c.menuExpandedClass||(q="show-right-menu"),v.is("body")&&(v=a("html, body")),x.length||r.append('<div class="'+e.settings.offCanvasOverlay+'">');var y=a("."+e.settings.offCanvasOverlay);t.length&&(t.attr({role:"button","aria-controls":u,"aria-expanded":"false"}),t.click(function(a){a.stopPropagation(),h(o)}),r.click(function(a){r.hasClass(q)&&(a.stopPropagation(),g(o))}),o.click(function(a){a.stopPropagation()}),a(document).bind("keydown",function(a){27===a.keyCode&&r.hasClass(q)&&(a.stopPropagation(),g(o),t.focus())})),"ontouchstart"in document.documentElement&&(v.on("touchstart",k),v.on("touchmove",l),v.on("touchend",m));var z,A,B,C=null,D={},E=!1},e.init()},a.fn.offCanvasMenu=function(b){return this.each(function(){if(void 0==a(this).data("offCanvasMenu")){var c=new a.offCanvasMenu(this,b);a(this).data("offCanvasMenu",c)}})}}(jQuery);