"use strict";!function(a){function b(b){var c=a(b),d=a(":focus"),e=0;if(1===d.length){var f=c.index(d);f+1<c.length&&(e=f+1)}c.eq(e).focus()}function c(b){var c=a(b),d=a(":focus"),e=c.length-1;if(1===d.length){var f=c.index(d);f>0&&(e=f-1)}c.eq(e).focus()}function d(b){function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var d,e,f,g=b.nodeName.toLowerCase(),h=!isNaN(a.attr(b,"tabindex"));return"area"===g?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(f=a("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||h:h)&&c(b)}a.focusNext=function(){b(":focusable")},a.focusPrev=function(){c(":focusable")},a.tabNext=function(){b(":tabbable")},a.tabPrev=function(){c(":tabbable")},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}})}(jQuery),function(a){a.offCanvasMenu=function(b,c){var d={menu:a(b),position:"left",menuExpandedClass:"show-left-menu",openedClass:"opened",noTransitionClass:"opened",wrapper:a(b).parent(),container:a(".container"),menuToggle:[],expandedWidth:a(b).outerWidth(),offCanvasOverlay:"off-canvas-overlay"},e=this;e.settings={},e.init=function(){function b(a){v.bind("keydown",function(b){9===b.keyCode&&t.hasClass(q)&&(b.preventDefault(),b.shiftKey?a.find(":tabbable").last().focus():a.find(":tabbable").first().focus())}),a.find(":tabbable").first().bind("keydown",function(a){9===a.keyCode&&t.hasClass(q)&&a.shiftKey&&(a.preventDefault(),v.focus())}),a.find(":tabbable").last().bind("keydown",function(a){9===a.keyCode&&t.hasClass(q)&&(a.shiftKey||(a.preventDefault(),v.focus()))})}function f(a){clearTimeout(n),v.attr({"aria-expanded":"true"}),t.addClass(q+" "+r+"--"+p).css({"overflow-x":"hidden",position:"relative"}),b(a)}function g(){v.attr({"aria-expanded":"false"}),t.removeClass(q),n=setTimeout(function(){t.removeClass(q+" "+r+"--"+p).removeAttr("style")},z)}function h(a){var b=t.hasClass(q)?"opened":"closed";"closed"===b&&f(a),"opened"===b&&g()}function i(){return"left"==p?o.offset().left+x:o.offset().left}function j(a){return"left"==p&&a>=-25&&x>=a||"right"==p&&a>=-x&&25>=a}function k(a){t.hasClass(q)&&(E=!0,C=a.originalEvent.touches[0].pageX,F={startingX:i(),pageX:C,pageY:a.originalEvent.touches[0].pageY},B=t.position().left,G=void 0,D=A.css("opacity"),u.addClass(s),A.addClass(s),a.stopPropagation())}function l(b){if(B=b.originalEvent.touches[0].pageX-F.pageX,"undefined"==typeof G&&(G=!!(G||Math.abs(B)<Math.abs(b.originalEvent.touches[0].pageY-F.pageY))),!G){b.preventDefault();var c="left"==p?F.startingX+B:B-(a(window).width()-F.startingX),d=D/x*Math.abs(c);if(!j(c))return;u.css({"-webkit-transform":"translate("+c+"px, 0)","-moz-transform":"translate("+c+"px, 0)","-ms-transform":"translate("+c+"px, 0)","-o-transform":"translate("+c+"px, 0)",transform:"translate("+c+"px, 0)"}),A.css("opacity",d),b.stopPropagation()}}function m(b){if(E&&t.hasClass(q)){var c="left"==p?F.startingX+B:B-(a(window).width()-F.startingX),d=Math.abs(c);G||(u.removeAttr("style").removeClass(s),A.removeAttr("style").removeClass(s),"left"==p&&(.66*x>=d||0>=c)||"right"==p&&(.66*x>=d||c>=0)?g():f(o)),E=null,F={},b.stopPropagation()}}e.settings=a.extend({},d,c);var n,o=e.settings.menu,p=e.settings.position,q=e.settings.menuExpandedClass,r=e.settings.openedClass,s=e.settings.noTransitionClass,t=e.settings.wrapper,u=e.settings.container,v=e.settings.menuToggle,w=e.settings.ariaControls,x=o.outerWidth(),y=a("."+e.settings.offCanvasOverlay),z=Math.round(1e3*parseFloat(u.css("transition-duration")));"right"!==p||c.menuExpandedClass||(q="show-right-menu"),t.is("body")&&(t=a("html, body")),y.length||u.append('<div class="'+e.settings.offCanvasOverlay+'">');var A=a("."+e.settings.offCanvasOverlay);v.length&&(v.attr({role:"button","aria-controls":w,"aria-expanded":"false"}),v.click(function(a){a.stopPropagation(),h(o)}),t.click(function(a){t.hasClass(q)&&(a.stopPropagation(),g())}),o.click(function(a){a.stopPropagation()}),a(document).bind("keydown",function(a){27===a.keyCode&&t.hasClass(q)&&(a.stopPropagation(),g(),v.focus())})),"ontouchstart"in document.documentElement&&(t.on("touchstart",k),t.on("touchmove",l),t.on("touchend",m));var B,C,D,E=null,F={},G=!1},e.init()},a.fn.offCanvasMenu=function(b){return this.each(function(){if(void 0==a(this).data("offCanvasMenu")){var c=new a.offCanvasMenu(this,b);a(this).data("offCanvasMenu",c)}})}}(jQuery);