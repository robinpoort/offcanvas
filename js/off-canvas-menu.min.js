"use strict";!function(a){function b(b){var c=a(b),d=a(":focus"),e=0;if(1===d.length){var f=c.index(d);f+1<c.length&&(e=f+1)}c.eq(e).focus()}function c(b){var c=a(b),d=a(":focus"),e=c.length-1;if(1===d.length){var f=c.index(d);f>0&&(e=f-1)}c.eq(e).focus()}function d(b){function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var d,e,f,g=b.nodeName.toLowerCase(),h=!isNaN(a.attr(b,"tabindex"));return"area"===g?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(f=a("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||h:h)&&c(b)}a.focusNext=function(){b(":focusable")},a.focusPrev=function(){c(":focusable")},a.tabNext=function(){b(":tabbable")},a.tabPrev=function(){c(":tabbable")},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}})}(jQuery),function(a){a.offCanvasMenu=function(b,c){var d={menu:a(b),position:"left",menuExpandedClass:"show-left-menu",openedClass:"opened",wrapper:a(b).parent(),container:a(".container"),menuToggle:[],expandedWidth:a(b).outerWidth(),offCanvasOverlay:"off-canvas-overlay"},e=this;e.settings={},e.init=function(){function b(a){t.bind("keydown",function(b){9===b.keyCode&&r.hasClass(p)&&(b.preventDefault(),b.shiftKey?a.find(":tabbable").last().focus():a.find(":tabbable").first().focus())}),a.find(":tabbable").first().bind("keydown",function(a){9===a.keyCode&&r.hasClass(p)&&a.shiftKey&&(a.preventDefault(),t.focus())}),a.find(":tabbable").last().bind("keydown",function(a){9===a.keyCode&&r.hasClass(p)&&(a.shiftKey||(a.preventDefault(),t.focus()))})}function f(a){t.attr({"aria-expanded":"true"}),a.show(),r.addClass(p).addClass(q).css({"overflow-x":"hidden",position:"relative"}),r.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.show(),r.addClass(p).addClass(q).css({"overflow-x":"hidden",position:"relative"})}),b(a)}function g(a){t.attr({"aria-expanded":"false"}),r.removeClass(p),r.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.removeAttr("style"),r.removeAttr("style").removeClass(q).removeClass(p)})}function h(a){var b=r.hasClass(p)?"opened":"closed";"closed"===b&&f(a),"opened"===b&&g(a)}function i(){return"left"==o?n.offset().left+v:n.offset().left}function j(a){return"left"==o&&a>=-25&&v>=a||"right"==o&&a>=-v&&25>=a}function k(a){r.hasClass(p)&&(B=!0,z=a.originalEvent.touches[0].pageX,C={startingX:i(),pageX:z,pageY:a.originalEvent.touches[0].pageY},y=r.position().left,D=void 0,A=x.css("opacity"),s.addClass("no-transition"),x.addClass("no-transition"),a.stopPropagation())}function l(b){if(y=b.originalEvent.touches[0].pageX-C.pageX,"undefined"==typeof D&&(D=!!(D||Math.abs(y)<Math.abs(b.originalEvent.touches[0].pageY-C.pageY))),!D){b.preventDefault();var c="left"==o?C.startingX+y:y-(a(window).width()-C.startingX),d=A/v*Math.abs(c);if(!j(c))return;s.css({"-webkit-transform":"translate("+c+"px, 0)","-moz-transform":"translate("+c+"px, 0)","-ms-transform":"translate("+c+"px, 0)","-o-transform":"translate("+c+"px, 0)",transform:"translate("+c+"px, 0)"}),x.css("opacity",d),b.stopPropagation()}}function m(b){if(B&&r.hasClass(p)){var c="left"==o?C.startingX+y:y-(a(window).width()-C.startingX),d=Math.abs(c);D||(s.removeAttr("style").removeClass("no-transition"),x.removeAttr("style").removeClass("no-transition"),"left"==o&&(.66*v>=d||0>=c)||"right"==o&&(.66*v>=d||c>=0)?g(n):f(n)),B=null,C={},b.stopPropagation()}}e.settings=a.extend({},d,c);var n=e.settings.menu,o=e.settings.position,p=e.settings.menuExpandedClass,q=e.settings.openedClass,r=e.settings.wrapper,s=e.settings.container,t=e.settings.menuToggle,u=e.settings.ariaControls,v=n.outerWidth(),w=a("."+e.settings.offCanvasOverlay);"right"!==o||c.menuExpandedClass||(p="show-right-menu"),r.is("body")&&(r=a("html, body")),w.length||s.append('<div class="'+e.settings.offCanvasOverlay+'">');var x=a("."+e.settings.offCanvasOverlay);t.length&&(t.attr({role:"button","aria-controls":u,"aria-expanded":"false"}),t.click(function(a){a.stopPropagation(),h(n)}),r.click(function(a){r.hasClass(p)&&(a.stopPropagation(),g(n))}),n.click(function(a){a.stopPropagation()}),a(document).bind("keydown",function(a){27===a.keyCode&&r.hasClass(p)&&(a.stopPropagation(),g(n),t.focus())})),"ontouchstart"in document.documentElement&&(r.on("touchstart",k),r.on("touchmove",l),r.on("touchend",m));var y,z,A,B=null,C={},D=!1},e.init()},a.fn.offCanvasMenu=function(b){return this.each(function(){if(void 0==a(this).data("offCanvasMenu")){var c=new a.offCanvasMenu(this,b);a(this).data("offCanvasMenu",c)}})}}(jQuery);