"use strict";!function(a){function b(b){var c=a(b),d=a(":focus"),e=0;if(1===d.length){var f=c.index(d);f+1<c.length&&(e=f+1)}c.eq(e).focus()}function c(b){var c=a(b),d=a(":focus"),e=c.length-1;if(1===d.length){var f=c.index(d);f>0&&(e=f-1)}c.eq(e).focus()}function d(b){function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var d,e,f,g=b.nodeName.toLowerCase(),h=!isNaN(a.attr(b,"tabindex"));return"area"===g?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(f=a("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||h:h)&&c(b)}a.focusNext=function(){b(":focusable")},a.focusPrev=function(){c(":focusable")},a.tabNext=function(){b(":tabbable")},a.tabPrev=function(){c(":tabbable")},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}})}(jQuery),function(a){function b(a){a.$menuToggle.bind("keydown",function(b){9===b.keyCode&&a.$menuToggle.is(":visible")&&(b.preventDefault(),b.shiftKey?a.$menu.find(":tabbable").last().focus():a.$menu.find(":tabbable").first().focus())}),a.$menu.find(":tabbable").first().bind("keydown",function(b){9===b.keyCode&&a.$menuToggle.is(":visible")&&b.shiftKey&&(b.preventDefault(),a.$menuToggle.focus())}),a.$menu.find(":tabbable").last().bind("keydown",function(b){9===b.keyCode&&a.$menuToggle.is(":visible")&&(b.shiftKey||(b.preventDefault(),a.$menuToggle.focus()))})}function c(a){a.$menu.show(),a.$menuExpandedClassTarget.addClass(a.menuExpandedClass),a.$menuToggle.attr({"aria-expanded":"true"}),a.$wrapper.addClass("opened").parent().css("overflow-x","hidden"),a.$wrapper.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.$menu.addClass("opened"),a.$wrapper.addClass("opened")}),b(a)}function d(a,b){a.$menuExpandedClassTarget.removeClass(a.menuExpandedClass),a.$menuToggle.attr({"aria-expanded":"false"}),a.$overlay.removeAttr("style"),a.$wrapper.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.$menu.removeAttr("style").removeClass("opened"),a.$wrapper.removeClass("opened")})}function e(a,b){var e=a.$menuExpandedClassTarget.hasClass(a.menuExpandedClass)?"opened":"closed";"closed"===e&&c(a),"opened"===e&&d(a,b)}a.OffCanvasMenuController=function(a){if(a=a||{},this.$menu=a.$menu,this.position=a.position||"left",this.menuExpandedClass=a.menuExpandedClass||"show-"+this.position+"-menu",0!=this.$menu.length){if(this.$menuToggle=a.$menuToggle||[],this.$wrapper=a.wrapper||this.$menu.parent(),this.wrapper=this.$wrapper[0],this.$menuExpandedClassTarget=a.$menuExpandedClassTarget||this.$wrapper,this.expandedWidth=this.$menu.outerWidth(),this.ariaControls=a.ariaControls||this.$menu.selector.replace("#",""),this.offCanvasOverlay=a.offCanvasOverlay||"off-canvas-overlay",this.$offCanvasOverlay=$("."+this.offCanvasOverlay),this.$offCanvasOverlay.length||this.$wrapper.append('<div class="'+this.offCanvasOverlay+'"></div>'),this.$overlay=$("."+this.offCanvasOverlay),this.overlay=this.$overlay[0],this.overlayOpacity=a.overlayOpacity||"0.75",this.transitionDuration=1e3*this.$wrapper.css("transition-duration").replace("s",""),this.$menuToggle.length){var b=this;this.$menuToggle.attr({role:"button","aria-controls":b.ariaControls,"aria-expanded":"false"}),this.$menuToggle.click(function(a){a.stopPropagation(),e(b,b.transitionDuration)}),this.$wrapper.click(function(a){b.$menuExpandedClassTarget.hasClass(b.menuExpandedClass)&&(a.stopPropagation(),d(b,b.transitionDuration))}),this.$menu.click(function(a){a.stopPropagation()}),$(document).bind("keydown",function(a){27===a.keyCode&&b.$menuExpandedClassTarget.hasClass(b.menuExpandedClass)&&(a.stopPropagation(),d(b,b.transitionDuration),b.$menuToggle.focus())})}this.wrapper.addEventListener&&(this.wrapper.addEventListener("touchstart",this,!1),this.wrapper.addEventListener("touchmove",this,!1),this.wrapper.addEventListener("touchend",this,!1),this.wrapper.addEventListener("touchcancel",this,!1))}},a.OffCanvasMenuController.prototype={start:null,handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchcancel":case"touchend":this.onTouchEnd(a)}},currentPosition:function(){return"left"==this.position?this.$menu.offset().left+this.expandedWidth:this.$menu.offset().left},inBounds:function(a){return"left"==this.position&&a>=-25&&a<=this.expandedWidth||"right"==this.position&&a>=-this.expandedWidth&&25>=a},onTouchStart:function(a){if(this.$menuExpandedClassTarget.hasClass(this.menuExpandedClass)){var b=a.touches[0].pageX;this.start={startingX:this.currentPosition(),pageX:b,pageY:a.touches[0].pageY},this.deltaX=this.$wrapper.position().left,this.isScrolling=void 0,this.wrapper.style.MozTransitionDuration=this.wrapper.style.webkitTransitionDuration=0,this.overlay.style.MozTransitionDuration=this.overlay.style.webkitTransitionDuration=0,a.stopPropagation()}},onTouchMove:function(b){if(this.deltaX=b.touches[0].pageX-this.start.pageX,"undefined"==typeof this.isScrolling&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(b.touches[0].pageY-this.start.pageY))),!this.isScrolling){b.preventDefault();var c="left"==this.position?this.start.startingX+this.deltaX:this.deltaX-($(a).width()-this.start.startingX),d=this.overlayOpacity/this.expandedWidth*Math.abs(c);if(!this.inBounds(c))return;this.wrapper.style.MozTransform=this.wrapper.style.webkitTransform="translate("+c+"px,0)",this.overlay.style.opacity=d,b.stopPropagation()}},onTouchEnd:function(b){if(this.start){var e="left"==this.position?this.start.startingX+this.deltaX:this.deltaX-($(a).width()-this.start.startingX),f=Math.abs(e);this.isScrolling||(this.$wrapper.removeAttr("style"),"left"==this.position&&(f<=.66*this.expandedWidth||0>=e)||"right"==this.position&&(f<=.66*this.expandedWidth||e>=0)?d(this,this.transitionDuration):(c(this),this.$overlay.removeAttr("style"))),this.start=null,b.stopPropagation()}}}}(window);