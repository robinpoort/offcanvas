"use strict";!function(a){function b(b){var c=a(b),d=a(":focus"),e=0;if(1===d.length){var f=c.index(d);f+1<c.length&&(e=f+1)}c.eq(e).focus()}function c(b){var c=a(b),d=a(":focus"),e=c.length-1;if(1===d.length){var f=c.index(d);f>0&&(e=f-1)}c.eq(e).focus()}function d(b){function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var d,e,f,g=b.nodeName.toLowerCase(),h=!isNaN(a.attr(b,"tabindex"));return"area"===g?(d=b.parentNode,e=d.name,b.href&&e&&"map"===d.nodeName.toLowerCase()?(f=a("img[usemap=#"+e+"]")[0],!!f&&c(f)):!1):(/input|select|textarea|button|object/.test(g)?!b.disabled:"a"===g?b.href||h:h)&&c(b)}a.focusNext=function(){b(":focusable")},a.focusPrev=function(){c(":focusable")},a.tabNext=function(){b(":tabbable")},a.tabPrev=function(){c(":tabbable")},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}})}(jQuery),function(a){a.offCanvasMenu=function(b,c){var d={menu:a(b),position:"left",menuExpandedClass:"show-left-menu",container:a(b).parent(),menuToggle:[],expandedWidth:a(b).outerWidth(),offCanvasOverlay:"off-canvas-overlay"},e=this;e.settings={},e.init=function(){function b(a){s.bind("keydown",function(b){9===b.keyCode&&s.is(":visible")&&(b.preventDefault(),b.shiftKey?a.find(":tabbable").last().focus():a.find(":tabbable").first().focus())}),a.find(":tabbable").first().bind("keydown",function(a){9===a.keyCode&&s.is(":visible")&&a.shiftKey&&(a.preventDefault(),s.focus())}),a.find(":tabbable").last().bind("keydown",function(a){9===a.keyCode&&s.is(":visible")&&(a.shiftKey||(a.preventDefault(),s.focus()))})}function f(a){a.show(),r.addClass(q),s.attr({"aria-expanded":"true"}),r.addClass("opened"),u.css({"overflow-x":"hidden",position:"relative"}),r.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.addClass("opened"),r.addClass("opened"),u.css({"overflow-x":"hidden",position:"relative"})}),b(a)}function g(a){r.removeClass(q),s.attr({"aria-expanded":"false"}),r.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a.removeAttr("style").removeClass("opened"),r.removeClass("opened"),u.removeAttr("style")})}function h(a,b){var c=r.hasClass(q)?"opened":"closed";"closed"===c&&f(a),"opened"===c&&g(a,b)}function i(){return"left"==p?o.offset().left+v:o.offset().left}function j(a){return"left"==p&&a>=-25&&v>=a||"right"==p&&a>=-v&&25>=a}function k(a){r.hasClass(q)&&(C=!0,B=a.originalEvent.touches[0].pageX,D={startingX:i(),pageX:B,pageY:a.originalEvent.touches[0].pageY},A=r.position().left,E=void 0,r.addClass("no-transition"),x.addClass("no-transition"),a.stopPropagation())}function l(b){if(A=b.originalEvent.touches[0].pageX-D.pageX,"undefined"==typeof E&&(E=!!(E||Math.abs(A)<Math.abs(b.originalEvent.touches[0].pageY-D.pageY))),!E){b.preventDefault();var c="left"==p?D.startingX+A:A-(a(window).width()-D.startingX),d=y/v*Math.abs(c);if(!j(c))return;a(r).css({"-webkit-transform":"translate("+c+"px, 0)","-moz-transform":"translate("+c+"px, 0)","-ms-transform":"translate("+c+"px, 0)","-o-transform":"translate("+c+"px, 0)",transform:"translate("+c+"px, 0)"}),x.css("opacity",d),b.stopPropagation()}}function m(b){if(C&&r.hasClass(q)){var c="left"==p?D.startingX+A:A-(a(window).width()-D.startingX),d=Math.abs(c);E||(r.removeAttr("style").removeClass("no-transition"),x.removeAttr("style").removeClass("no-transition"),"left"==p&&(.66*v>=d||0>=c)||"right"==p&&(.66*v>=d||c>=0)?g(o,z):f(o)),C=null,D={},b.stopPropagation()}}e.settings=a.extend({},d,c);var n=(a(n),n),o=e.settings.menu,p=e.settings.position,q=e.settings.menuExpandedClass,r=e.settings.container,s=e.settings.menuToggle,t=e.settings.ariaControls,u=r.parent(),v=o.outerWidth(),w=a("."+e.settings.offCanvasOverlay);"right"!==p||c.menuExpandedClass||(q="show-right-menu"),u.is("body")&&(u=a("html, body")),w.length||r.append('<div class="'+e.settings.offCanvasOverlay+'"></div>');var x=a("."+e.settings.offCanvasOverlay),y="0.75",z=1e3*r.css("transition-duration").replace("s","");s.length&&(s.attr({role:"button","aria-controls":t,"aria-expanded":"false"}),s.click(function(a){a.stopPropagation(),h(o,z)}),r.click(function(a){r.hasClass(q)&&(a.stopPropagation(),g(o,z))}),o.click(function(a){a.stopPropagation()}),a(document).bind("keydown",function(a){27===a.keyCode&&r.hasClass(q)&&(a.stopPropagation(),g(o,z),s.focus())})),"ontouchstart"in document.documentElement&&(u.on("touchstart",k),u.on("touchmove",l),u.on("touchend",m));var A,B,C=null,D={},E=!1},e.init()},a.fn.offCanvasMenu=function(b){return this.each(function(){if(void 0==a(this).data("offCanvasMenu")){var c=new a.offCanvasMenu(this,b);a(this).data("offCanvasMenu",c)}})}}(jQuery);